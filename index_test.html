<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>C3D</title>
    
    <!-- Bootstrap -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <style>
        
        
    </style> 
</head>
<body> 
    <!-- JavaScript libraries -->
    <script src="assets/js/three.min.js"></script> 
    <script src="assets/js/jquery-2.1.1.js"></script>
    <script src="assets/js/Stats.min.js"></script>
    <script src="assets/js/dat.gui.min.js"></script>
    <script src="assets/js/TrackballControls.js"></script>
    
    <!-- custom geoJSON libraries -->
    <script src="libs/archGenerator.js"></script> 
    <script src="libs/furnitureGenerator.js"></script>
    <script src="libs/c3d.js"></script>
    
    <!-- Bootstrap -->
    <script src="assets/js/bootstrap.min.js"></script>
    
    <script>
        C3D.parseJSON();
    </script>

      
    <!-- Javascript code that runs our Three.js examples --> 
    <script>
        
        // once everything is loaded, we run our Three.js stuff.
        $(function () 
        {
            var container = $('#area');
            // create a scene, that will hold all our elements such as objects, cameras and lights.
            var scene = new THREE.Scene();
            // add subtle ambient lighting
            var ambiColor = "#1c1c1c";
            var ambientLight = new THREE.AmbientLight(ambiColor);
            scene.add(ambientLight);
            
            // create a camera, which defines where we're looking at.
            var camera = new THREE.PerspectiveCamera(45, container.width()/(container.width()*9/16), 0.1, 1000);
            // position and point the camera to the center of the scene
            camera.position.set(-40,-40,40);
            camera.up = new THREE.Vector3(0,0,1);
            camera.lookAt(scene.position);
            
            
            // add axis helper
            var axisHelper = new THREE.AxisHelper(3);
            scene.add(axisHelper);
            
            // create a render and set the size
            var renderer = new THREE.WebGLRenderer();
            renderer.setClearColor(new THREE.Color(0x092D52, 1.0));
            renderer.setSize(container.width(), (container.width()*9/16));
            renderer.shadowMapEnabled = true;
            
            var trackballControls = new THREE.TrackballControls(camera, container[0]);
            var stats = initStats();
            
            /* --------- CODE STARTS HERE --------- */


            
            /* --------- CODE ENDS HERE --------- */
            
            // add the output of the renderer to the html element
            container.append(renderer.domElement);
            
            var controls = new function () {
                this.showAxisHelper = true;
                this.enableTrackball = false;
            };
            
            var enableTrackball = false;
            var gui = new dat.GUI({ autoPlace: false });
            
            gui.add(controls, 'showAxisHelper').onChange(function (value) {
                axisHelper.visible = value;
            });
            
            gui.add(controls, 'enableTrackball').onChange(function (value) {
                enableTrackball = value;
            });
            
            $("#sidebar").append(gui.domElement);
            
            render();
            
            function render() {
                renderer.setSize(container.width(), (container.width()*9/16));
                stats.update();
                if (enableTrackball) trackballControls.update();
                
                requestAnimationFrame(render);
                renderer.render(scene, camera);
            }
            
            function initStats() {
                var stats = new Stats();
                stats.setMode(0); // 0: fps, 1: ms
                $("#sidebar").append(stats.domElement);
                return stats;
            }
        });
    </script>
    
    <div class="container">
        <div class="page-header">
          <h1>C3D <small>Subtext for header</small></h1>
        </div>
        <!-- Nav tabs -->
        <ul class="nav nav-tabs" role="tablist">
          <li class="active"><a href="#overview" role="tab" data-toggle="tab">Overview</a></li>
          <li><a href="#model2D" role="tab" data-toggle="tab">Model 2D</a></li>
          <li><a href="#model3D" role="tab" data-toggle="tab">Model 3D</a></li>
          <li><a href="#about" role="tab" data-toggle="tab">About</a></li>
        </ul>
        
        <!-- Tab panes -->
        <div class="tab-content">
          <div class="tab-pane active" id="overview">
              <p>overview text</p>
          </div>
          <div class="tab-pane" id="model2D">
            <p>2d text</p>
          </div>
          <div class="tab-pane" id="model3D">
            <h2>Three.js model</h2>
              <div class="row">
                    <div class="col-md-8" id="area"></div>
                    <div class="col-md-4" id="sidebar"></div>
              </div>
          </div>
          <div class="tab-pane" id="about">
              <p>about text</p>
          </div>
        </div>
    </div>
</body>
</html>
